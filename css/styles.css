/**
 * Zoho Email Signature Generator - Main Stylesheet
 *
 * Design System: .ui-design/tokens/tokens.css
 * Documentation: .ui-design/docs/design-system.md
 */

/* Import Design System Tokens */
@import '../.ui-design/tokens/tokens.css';

/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/*
 * Component-specific overrides
 * The design system tokens are imported above.
 * Add any project-specific overrides here.
 */
:root {
    /* Project-specific radius overrides (slightly larger than default) */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 16px;
}

body {
    font-family: var(--font-family-sans);
    line-height: var(--line-height-normal);
    color: #333333;
    background: #FFFFFF;
    min-height: 100vh;
    overflow: hidden;
}

/* Three-Column Layout Container */
.layout-container {
    display: grid;
    grid-template-columns: 320px 1fr 1fr;
    height: 100vh;
    gap: 0;
}

/* Sidebar */
.sidebar {
    display: flex;
    flex-direction: column;
    background: #FAFAFA;
    border-right: 1px solid #E0E0E0;
    overflow: hidden;  /* Changed from overflow-y: auto */
    height: 100vh;     /* Ensure full height */
}

.sidebar-scrollable {
    flex: 1;               /* Take all available space */
    overflow-y: auto;      /* Only this section scrolls */
    padding: 24px;
}

.sidebar-logo {
    width: 100px;
    margin: 0 auto 24px auto;
    display: block;
}

.sidebar-title {
    font-size: 24px;
    font-weight: 700;
    color: #E42527;
    margin-bottom: 8px;
    text-align: center;
}

.sidebar-subtitle {
    font-size: 14px;
    color: #666666;
    margin-bottom: 24px;
    text-align: center;
    line-height: 1.5;
}

.sidebar-education {
    font-size: 14px;
    color: #333333;
    font-weight: 500;
    line-height: 1.6;
    margin-bottom: 16px;
    text-align: center;
}

/* Sidebar footer (pinned to bottom) */
.sidebar-footer {
    flex-shrink: 0;
    padding: 0 24px 24px 24px;
    background: #FAFAFA;
}

/* Disclaimer Box */
.disclaimer-box {
    background: #F9B21D;
    padding: 16px;
    margin-top: 16px;
    border-radius: 8px;
    display: flex;
    gap: 12px;
    align-items: flex-start;
}

.disclaimer-icon {
    font-size: 16px;
    flex-shrink: 0;
    line-height: 1.5;
}

.disclaimer-text {
    font-size: 12px;
    color: #333333;
    line-height: 1.5;
}

/* Feedback Button (Issue #23) */
.feedback-btn {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    margin-top: 12px;
    background: #FFFFFF;
    border: 1px solid #E0E0E0;
    border-radius: 8px;
    font-family: 'Verdana', sans-serif;
    font-size: 14px;
    font-weight: 500;
    color: #333333;
    cursor: pointer;
    transition: all 0.2s ease;
}

.feedback-btn:hover {
    background: #F5F5F5;
    border-color: #CCCCCC;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.feedback-btn:active {
    transform: translateY(0);
}

.feedback-btn-icon {
    font-size: 18px;
    flex-shrink: 0;
}

.feedback-btn-text {
    text-align: left;
}

/* Quick Start */
.quick-start {
    margin-bottom: 24px;
}

.quick-start-title {
    font-size: 14px;
    font-weight: 600;
    color: #333333;
    margin-bottom: 12px;
}

.quick-start ol {
    list-style: none;
    padding: 0;
    counter-reset: quick-start-counter;
}

.quick-start li {
    font-size: 13px;
    color: #333333;
    line-height: 1.6;
    margin-bottom: 8px;
    padding-left: 20px;
    position: relative;
    counter-increment: quick-start-counter;
}

.quick-start li::before {
    content: counter(quick-start-counter) ".";
    position: absolute;
    left: 0;
    color: #E42527;
    font-weight: bold;
}

/* Separator */
.sidebar-separator {
    border: 0;
    border-top: 1px solid #E0E0E0;
    margin: 24px 0;
}

/* Import Instructions Section */
.import-section-title {
    font-size: 16px;
    font-weight: 600;
    color: #333333;
    margin-bottom: 16px;
}

/* Import Buttons */
.import-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    font-family: inherit;
}

/* Split button style (logo on white, text on color) */
.import-btn-split {
    height: 48px;
    padding: 0;
    overflow: hidden;
    margin-bottom: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.import-btn-logo-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    background: #FFFFFF;
    padding: 0 12px;
    height: 100%;
    border-right: 1px solid rgba(0,0,0,0.1);
}

.import-btn-text {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #FFFFFF;
    font-size: 16px;
    font-weight: 600;
    padding: 0 16px;
}

.import-btn-zoho-mail {
    background: #1976D2;
}

.import-btn-zoho-mail:hover {
    background: #1565C0;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(25,118,210,0.3);
}

.import-btn-zoho-desk {
    background: #089949;
}

.import-btn-zoho-desk:hover {
    background: #087A3A;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(8,153,73,0.3);
}

.import-section-divider {
    text-align: center;
    font-size: 12px;
    color: #999999;
    margin: 24px 0 16px 0;
    position: relative;
}

.import-section-divider::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 50%;
    height: 1px;
    background: #E0E0E0;
    z-index: 0;
}

.import-section-divider span {
    background: #FAFAFA;
    padding: 0 12px;
    position: relative;
    z-index: 1;
}

.import-btn-secondary {
    height: 36px;
    background: #FFFFFF;
    border: 1px solid #CCCCCC;
    color: #666666;
    font-size: 14px;
    margin-bottom: 8px;
}

.import-btn-secondary:hover {
    background: #F5F5F5;
    border-color: #999999;
    transform: translateY(-1px);
}

.import-btn-icon {
    font-size: 20px;
}

.import-btn-logo {
    height: 24px;
    width: auto;
    display: block;
    object-fit: contain;
}

/* For non-split buttons (Gmail, Apple Mail, Outlook) */
.import-btn-secondary .import-btn-logo {
    margin-right: 8px;
}

/* Form Section */
.form-section {
    background: #FFFFFF;
    padding: 32px;
    overflow-y: auto;
    box-shadow: -2px 0 10px rgba(0,0,0,0.05);
}

.form-section h2 {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 12px;
    color: #333333;
}

.form-helper-text {
    font-size: 14px;
    color: #6B7280;
    margin-bottom: 24px;
    margin-top: 0;
    line-height: 1.5;
}

/* Preview Section */
.preview-section {
    background: #FFFFFF;
    padding: 32px;
    overflow: hidden;
    box-shadow: -2px 0 10px rgba(0,0,0,0.05);
}

.preview-section h2 {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 16px;
    color: #333333;
}

/* Input Groups */
.input-group {
    margin-bottom: var(--spacing-1);  /* 4px - Reduced vertical spacing */
    display: grid;
    grid-template-columns: 140px 1fr 32px;  /* Fixed width for help icon column */
    gap: var(--spacing-sm);
    align-items: center;
    position: relative;
}

.input-group label {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-neutral-700);  /* Darker for better readability (11:1 contrast) */
    text-align: right;
    padding-right: var(--spacing-xs);
}

.required {
    color: var(--zoho-red);
}

.input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    flex: 1;  /* Take full available width */
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: white;
    transition: all var(--transition-base);
}

.input-wrapper input[type="text"],
.input-wrapper input[type="email"],
.input-wrapper input[type="tel"],
.input-wrapper input[type="url"] {
    width: 100%;
    padding: 0.625rem 32px 0.625rem 0.875rem;  /* Fixed padding for validation icon */
    font-size: 0.95rem;
    border: none;
    background: transparent;
    color: #333333;  /* Dark text for readability */
    transition: all var(--transition-base);
    min-height: 42px;
}

/* Toggle Switches (iOS-style) */
.toggle-switch {
    position: relative;
    width: 48px;
    height: 26px;
    background: #9CA3AF;  /* Neutral gray when disabled */
    border-radius: 100px;
    cursor: pointer;
    transition: background 0.3s ease;
    flex-shrink: 0;
    margin-right: var(--spacing-xs);
}

.toggle-switch.active {
    background: #16A34A;  /* Green when enabled */
}

/* Disabled toggle switch (decorative only, for visual alignment) */
.toggle-switch.disabled {
    pointer-events: none;
    opacity: 0.6;
    cursor: not-allowed;
}

.toggle-switch::before {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    width: 20px;
    height: 20px;
    background: var(--color-bg-elevated);
    border-radius: 50%;
    transition: transform 0.3s ease;
    box-shadow: var(--shadow-sm);
}

.toggle-switch.active::before {
    transform: translateX(22px);
}

.input-wrapper input[type="text"]:disabled,
.input-wrapper input[type="email"]:disabled,
.input-wrapper input[type="tel"]:disabled,
.input-wrapper input[type="url"]:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background: var(--color-surface);
}

.input-wrapper input[readonly] {
    background: #F5F5F5;  /* Light gray for readonly */
    cursor: not-allowed;
    color: var(--color-neutral-700);
    font-weight: 500;
}

/* Format lock/unlock button for title case */
.format-lock-icon {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: #E5E7EB;  /* Gray when disabled */
    border: none;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    padding: 4px 6px;
    line-height: 1;
    color: #6B7280;
    transition: all 0.2s ease;
}

.format-lock-icon:hover {
    background: #D1D5DB;
}

.format-lock-icon.locked {
    background: #D1FAE5;  /* Light green when enabled */
    color: #059669;
}

.format-lock-icon.locked:hover {
    background: #A7F3D0;
}

.format-lock-icon::before {
    content: 'Aa';  /* Always show "Aa" to indicate title case */
}

/* Lock icon tooltip - appears to the RIGHT of the icon */
.format-lock-icon:hover::after {
    content: 'Title Case OFF';
    position: absolute;
    left: calc(100% + 12px);
    top: 50%;
    transform: translateY(-50%);
    background: #374151;
    color: #F3F4F6;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 400;
    line-height: 1.4;
    white-space: nowrap;
    z-index: 10000;
    pointer-events: none;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
                0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.format-lock-icon.locked:hover::after {
    content: 'Title Case ON\AAutomatically capitalizes text';
    white-space: pre-line;
}

.input-wrapper:focus-within {
    border-color: var(--zoho-red);
    box-shadow: 0 0 0 3px var(--zoho-red-light);
}

.input-wrapper input:focus {
    outline: none;
}

/* Validation error states */
.input-wrapper:has(input:invalid:not(:placeholder-shown)):not(:focus-within) {
    border-color: var(--color-error);
}

.input-wrapper:has(input:invalid:not(:placeholder-shown)):focus-within {
    border-color: var(--color-error);
    box-shadow: 0 0 0 3px var(--color-error-light);
}

/* Valid state (subtle positive feedback) */
.input-wrapper:has(input:valid:not(:placeholder-shown)):not(:focus-within) {
    border-color: var(--color-success);
}

.input-wrapper input::placeholder {
    color: var(--color-text-muted);
}

/* Clear Button */
.clear-btn {
    position: absolute;
    right: 0.5rem;
    background: none;
    border: none;
    font-size: 1.25rem;
    color: var(--color-text-muted);
    cursor: pointer;
    padding: var(--spacing-2);
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    opacity: 0;
    transition: all var(--transition-fast);
    pointer-events: none;
    border-radius: var(--radius-sm);
}

.input-wrapper input:not(:placeholder-shown) ~ .clear-btn {
    opacity: 1;
    pointer-events: auto;
}

.clear-btn:hover {
    color: var(--zoho-red);
    transform: scale(1.1);
}

/* Divider */
.divider {
    height: 1px;
    background: var(--color-border);
    margin: var(--spacing-md) 0;
}

/* Form Section Dividers - Subtle grouping without adding spacing */
.form-section-divider {
    height: 1px;
    background: var(--color-border);
    opacity: 0.4;
    margin: 24px 0;
}

/* Section Title */
.section-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-xs);
}

/* Section Hint */
.section-hint {
    font-size: var(--font-size-sm);
    color: var(--color-text-tertiary);
    margin: 0 0 var(--spacing-sm) 0;
    font-style: italic;
}

/* Section Subtitle */
.section-subtitle {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-xs);
}

/* Design Section: Groups Style + Color Selection */
.design-section {
    background: #F5F5F5;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 24px;
}

/* Style Selector - 3x2 Grid */
.style-selector-container {
    margin-bottom: 20px;
}

.style-selector-label {
    font-size: 14px;
    font-weight: 600;
    color: #333333;
    margin-bottom: 12px;
    display: block;
}

.style-selector {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 0;
}

.style-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 16px 12px;
    border: 2px solid #E0E0E0;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    background: #FFFFFF;
    min-height: 100px;
}

.style-option:hover {
    border-color: #CCCCCC;
    transform: translateY(-2px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.style-option input[type="radio"] {
    position: absolute;
    opacity: 0;
}

.style-option:has(input[type="radio"]:checked) {
    border-color: #E42527;
    border-width: 3px;
    background: #FFF5F5;
    box-shadow: 0 2px 8px rgba(228,37,39,0.2);
}

/* Checkmark indicator for selected style (accessibility - non-color indicator) */
.style-option:has(input[type="radio"]:checked) .style-content::after {
    content: '✓';
    position: absolute;
    top: -6px;
    right: 4px;
    color: #E42527;
    font-weight: bold;
    font-size: 20px;
    line-height: 1;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
}

.style-content {
    position: relative;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.style-label {
    font-size: 14px;
    font-weight: 600;
    color: #333333;
    text-align: center;
}

.style-option:has(input[type="radio"]:checked) .style-label {
    color: #E42527;
    font-weight: 600;
}

.style-desc {
    font-size: 11px;
    color: #666666;
    line-height: 1.3;
    text-align: center;
    margin-top: 4px;
}

/* Color Switcher */
.color-switcher-container {
    margin-bottom: 0;
}

.color-switcher-label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: #333333;
    margin-bottom: 8px;
    text-align: left;
}

.color-switcher {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
}

/* Color Buttons */
.color-btn {
    height: 36px;
    border: 2px solid transparent;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    color: #FFFFFF;
    cursor: pointer;
    transition: border 0.2s ease, opacity 0.2s ease, box-shadow 0.2s ease;
}

.color-btn[data-color="#E42527"] {
    background: #E42527;
}

.color-btn[data-color="#089949"] {
    background: #089949;
}

.color-btn[data-color="#226DB4"] {
    background: #226DB4;
}

.color-btn[data-color="#F9B21D"] {
    background: #F9B21D;
    color: #333333; /* Dark text for yellow background contrast */
}

.color-btn.selected {
    border-color: #333333;
    box-shadow: 0 0 0 1px #333333;
    position: relative;
}

/* Checkmark indicator for selected color (accessibility - non-color indicator) */
.color-btn.selected::after {
    content: '✓';
    position: absolute;
    top: 2px;
    right: 4px;
    font-size: 18px;
    font-weight: bold;
    color: #FFFFFF;
    text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
    line-height: 1;
}

/* Dark checkmark for yellow background (better contrast) */
.color-btn.selected[data-color="#F9B21D"]::after {
    color: #333333;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.5);
}

.color-btn:hover {
    opacity: 0.9;
}

.color-btn:focus {
    outline: 2px solid #4A9EFF;
    outline-offset: 2px;
}

.color-btn:active {
    transform: translateY(1px);
}

/* Zoho Social Options */
.zoho-social-options {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.social-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
}

.checkbox-option {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    cursor: pointer;
    padding: var(--spacing-2);
}

.checkbox-option input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: var(--zoho-red);
}

.checkbox-option span {
    font-size: 0.9rem;
    color: var(--color-text-primary);
}

.social-display-toggle {
    display: flex;
    gap: var(--spacing-1);
    background: var(--color-surface);
    border-radius: var(--radius-sm);
    padding: var(--spacing-0-5);
}

.toggle-option {
    display: flex;
    align-items: center;
    padding: var(--spacing-1) var(--spacing-3);
    font-size: 0.85rem;
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
}

.toggle-option input[type="radio"] {
    display: none;
}

.toggle-option span {
    color: var(--color-text-secondary);
}

.toggle-option:has(input[type="radio"]:checked) {
    background: var(--zoho-red);
}

.toggle-option:has(input[type="radio"]:checked) span {
    color: white;
    font-weight: 500;
}

.social-channels {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-xs);
    padding-left: var(--spacing-md);
    opacity: 0.5;
    pointer-events: none;
    transition: opacity var(--transition-base);
}

.social-channels.active {
    opacity: 1;
    pointer-events: auto;
}

.social-channel-option {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs);
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: background var(--transition-fast);
}

.social-channel-option:hover {
    background: var(--color-surface);
}

.social-channel-option input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
    accent-color: var(--zoho-red);
}

.social-icon {
    font-size: 1.2rem;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.social-name {
    font-size: 0.85rem;
    color: var(--color-text-primary);
}

/* Social Media List (Option 6) */
.social-list {
    margin-top: var(--spacing-4);
    position: relative;
}

.social-list-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--spacing-3) var(--spacing-4);
    border-radius: var(--radius-lg);
    margin-bottom: var(--spacing-2);
    background: var(--color-surface);
    transition: transform 200ms cubic-bezier(0.2, 0, 0, 1),
                background var(--duration-fast) var(--ease-default),
                box-shadow var(--duration-fast) var(--ease-default);
    position: relative;
    user-select: none;
}

.social-list-item:hover {
    background: var(--color-bg-elevated);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.social-list-item:focus-within {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
}

/* Dragging states */
.social-list-item.dragging {
    opacity: 0.4;
    transform: scale(0.95);
}

.social-list-item.drag-over-top {
    border-top: 3px solid var(--color-primary-500);
    padding-top: calc(var(--spacing-3) + 3px);
}

.social-list-item.drag-over-bottom {
    border-bottom: 3px solid var(--color-primary-500);
    padding-bottom: calc(var(--spacing-3) + 3px);
}

/* Ghost/placeholder element */
.social-list-item.drag-placeholder {
    opacity: 0;
    height: 0;
    padding: 0;
    margin: 0;
    overflow: hidden;
}

/* Drag preview (element being dragged) */
.social-list-item.drag-preview {
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    transform: rotate(2deg) scale(1.05);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    opacity: 0.95;
    cursor: grabbing;
}

.social-list-left {
    display: flex;
    align-items: center;
    gap: var(--spacing-3);
    flex: 1;
}

/* Drag handle - always visible for clarity */
.drag-handle {
    font-size: var(--font-size-lg);
    color: var(--color-text-tertiary);
    cursor: grab;
    user-select: none;
    opacity: 0.5;
    transition: all var(--duration-fast) var(--ease-default);
    padding: var(--spacing-1);
    margin-left: calc(var(--spacing-1) * -1);
    border-radius: var(--radius-sm);
    min-width: 24px;
    min-height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.social-list-item:hover .drag-handle {
    opacity: 1;
    background: var(--color-bg-elevated);
}

.drag-handle:hover {
    color: var(--color-primary-500);
    background: var(--color-bg-elevated);
}

.drag-handle:active {
    cursor: grabbing;
    transform: scale(0.95);
}

.social-list-item.grabbed .drag-handle {
    cursor: grabbing;
    color: var(--color-primary-500);
}

/* Keyboard mode indicator */
.social-list-item.keyboard-grabbed {
    outline: 3px solid var(--color-primary-500);
    outline-offset: 2px;
    background: var(--color-primary-50);
}

[data-theme="dark"] .social-list-item.keyboard-grabbed {
    background: rgba(220, 38, 38, 0.1);
}

/* Drop zone hints */
.social-list.drag-active .social-list-item:not(.dragging):not(.keyboard-grabbed) {
    border: 2px dashed var(--color-border);
}

/* Screen reader only text */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

.social-list-icon {
    font-size: var(--font-size-2xl);
    width: 32px;
    text-align: center;
    color: var(--color-text-primary);
}

.social-list-name {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
}

/* Social Display Toggle (moved to bottom) */
.social-display-section {
    margin-top: var(--spacing-4);
    padding-top: var(--spacing-4);
    border-top: 1px solid var(--color-border);
}

.social-display-label {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-2);
}

/* Social Media Master Toggle - follows input-group pattern */
.social-master-toggle-group {
    margin-bottom: 4px;
}

.social-master-wrapper {
    justify-content: flex-start;
    align-items: center;
}

.social-hint {
    font-size: 13px;
    color: var(--color-text-tertiary);
    margin-left: 12px;
}

/* Social Media Compact Grid - Split button style like Mail/Desk buttons */
.social-compact-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);  /* Single row with all 4 icons */
    gap: 8px;
    margin-bottom: 8px;
}

/* Split button style: white logo area + colored text area */
.social-compact-card {
    width: 100%;
    height: 36px;
    display: flex;
    flex-direction: row;
    align-items: stretch;
    padding: 0;
    border: none;
    border-radius: 6px;
    overflow: hidden;
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease;
    user-select: none;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    opacity: 0.5;  /* Disabled by default */
}

.social-compact-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 6px rgba(0,0,0,0.15);
}

.social-compact-card.active {
    opacity: 1;  /* Full opacity when enabled */
}

.social-compact-card.dragging {
    opacity: 0.3;
    transform: scale(0.95);
}

/* Drag handle - hidden for cleaner look in 4-column layout */
.social-drag-handle {
    display: none;
}

/* Icon in white box on left */
.social-compact-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 100%;
    background: #FFFFFF;
    font-size: 12px;
    font-weight: bold;
    flex-shrink: 0;
    border-right: 1px solid rgba(0,0,0,0.1);
}

/* Label in colored area on right */
.social-compact-label {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    color: #FFFFFF;
    font-weight: 600;
    padding: 0 6px;
    background: #999;  /* Default gray */
    white-space: nowrap;
}

/* Brand-specific background colors for the text area */
.social-compact-card[data-channel="twitter"] .social-compact-label {
    background: #000000;
}

.social-compact-card[data-channel="linkedin"] .social-compact-label {
    background: #0A66C2;
}

.social-compact-card[data-channel="facebook"] .social-compact-label {
    background: #1877F2;
}

.social-compact-card[data-channel="instagram"] .social-compact-label {
    background: linear-gradient(45deg, #F58529, #DD2A7B, #8134AF);
}

/* Brand-specific icon colors */
.social-compact-card[data-channel="twitter"] .social-compact-icon {
    color: #000000;
}

.social-compact-card[data-channel="linkedin"] .social-compact-icon {
    color: #0A66C2;
}

.social-compact-card[data-channel="facebook"] .social-compact-icon {
    color: #1877F2;
}

.social-compact-card[data-channel="instagram"] .social-compact-icon {
    color: #DD2A7B;
}

/* Email Split Input */
.email-split-input {
    display: flex;
    align-items: center;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: white;
    overflow: hidden;
    transition: all var(--transition-base);
    flex: 1;  /* Take full available width */
}

/* When nested inside .input-wrapper, remove duplicate border/radius */
.input-wrapper .email-split-input {
    border: none;
    border-radius: 0;
    background: transparent;
}

.email-split-input:focus-within {
    border-color: var(--zoho-red);
    box-shadow: 0 0 0 3px var(--zoho-red-light);
}

.email-prefix-field {
    flex: 1;
    border: none;
    padding: 0.625rem 0.5rem 0.625rem 0.875rem;
    font-size: 0.95rem;
    outline: none;
    background: transparent;
    color: #333333;  /* Dark text for readability */
    min-height: 38px;
}

.email-domain-suffix {
    padding: 0.625rem 32px 0.625rem 0.5rem;  /* Match input padding-right for alignment */
    font-size: 0.95rem;
    color: #999;
    background: #F5F5F5;
    border-left: 1px solid #E0E0E0;
    white-space: nowrap;
    font-family: monospace;
}

/* =============================================================================
   Help Text System (Accordion-Style on Focus)
   ============================================================================= */

/* Help Icon - Positioned outside input wrapper in grid */
.help-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;  /* Increased to 24px for better touch target */
    height: 24px;
    border-radius: 50%;
    background: #1976D2;  /* Blue background */
    color: white;
    font-size: 13px;
    font-weight: 600;
    cursor: help;
    transition: all 0.2s ease;
    flex-shrink: 0;  /* Don't shrink in grid */
    margin-left: 8px;  /* Small gap from input wrapper */
}

.help-icon:hover {
    background: #1565C0;  /* Darker blue on hover */
    transform: scale(1.1);
}

/* Placeholder for fields without help icons - maintains grid alignment (fixes Pin 1) */
.help-icon-placeholder {
    width: 24px;
    height: 24px;
    margin-left: 8px;
    flex-shrink: 0;
    visibility: hidden;  /* Invisible but takes up space */
}

/* Help Panel - Accordion-style expandable help (auto-shows on input focus) */
.help-panel {
    grid-column: 1 / 3;  /* Span label + input columns only, NOT help icon column */
    background: #333;
    color: white;
    padding: 0;  /* No padding when collapsed */
    margin: 0;  /* No margin when collapsed - fixes spacing issue */
    line-height: 1.4;
    border-radius: 6px;
    font-size: 12px;
    box-shadow: none;  /* No shadow when collapsed */
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    transition: all 0.3s ease;
}

.help-panel.visible {
    max-height: 600px;
    opacity: 1;
    padding: 10px 14px;  /* Add padding when visible */
    margin-top: 4px;  /* Add margin only when visible */
    margin-bottom: 4px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);  /* Add shadow when visible */
}

.help-panel h4 {
    font-size: 14px;
    font-weight: 600;
    margin: 0 0 8px 0;
    color: var(--text-primary);
}

.help-panel p {
    margin: 0 0 8px 0;
    font-size: 14px;
    color: var(--text-secondary);
}

.help-panel ul,
.help-panel ol {
    margin: 8px 0;
    padding-left: 20px;
}

.help-panel li {
    margin-bottom: 6px;
    font-size: 14px;
    color: var(--text-secondary);
}

.help-panel strong {
    color: white;
    font-weight: 600;
}

.help-panel code {
    background: rgba(255, 255, 255, 0.2);
    padding: 2px 6px;
    border-radius: 3px;
    font-family: monospace;
    font-size: 11px;
}

/* Dark mode support */
[data-theme="dark"] .help-icon {
    background: #1976D2;  /* Keep same blue in dark mode */
    color: white;
}

[data-theme="dark"] .help-icon:hover {
    background: #1565C0;  /* Darker blue on hover */
}

[data-theme="dark"] .help-panel {
    background: #2a2a2a;
    color: #e0e0e0;
}

[data-theme="dark"] .form-helper-text {
    color: #9CA3AF;  /* Lighter gray for dark mode */
}

/* URL Prefix Input (LinkedIn, Twitter, etc.) */
.url-prefix-input {
    display: flex;
    align-items: center;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: white;
    overflow: hidden;
    transition: all var(--transition-base);
    flex: 1;  /* Take full available width */
}

/* When nested inside .input-wrapper, remove duplicate border/radius */
.input-wrapper .url-prefix-input {
    border: none;
    border-radius: 0;
    background: transparent;
}

.url-prefix-input:focus-within {
    border-color: var(--zoho-red);
    box-shadow: 0 0 0 3px var(--zoho-red-light);
}

.url-prefix {
    padding: 0.625rem 0.5rem 0.625rem 0.875rem;
    font-size: 13px;
    color: #999;
    background: #F5F5F5;
    border-right: 1px solid #E0E0E0;
    white-space: nowrap;
    font-family: monospace;
}

.url-username-field {
    flex: 1;
    border: none;
    padding: 0.625rem 32px 0.625rem 0.875rem;  /* Match regular input padding for alignment */
    font-size: 0.95rem;
    outline: none;
    background: transparent;
    color: #333333;  /* Dark text for readability */
    min-height: 38px;
}

/* Preview Section */
.preview-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-sm);
}

.preview-controls {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

/* Theme Toggle */
.theme-toggle {
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    user-select: none;
}

.theme-toggle-label {
    font-size: 14px;
    font-weight: 500;
    color: #374151;
}

.theme-toggle input[type="checkbox"] {
    display: none;
}

.toggle-slider {
    position: relative;
    width: 48px;
    height: 26px;
    background: #D1D5DB;
    border-radius: 100px;
    transition: background 0.3s ease;
    flex-shrink: 0;
}

.toggle-slider::before {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    width: 20px;
    height: 20px;
    background: #FFFFFF;
    border-radius: 50%;
    transition: transform 0.3s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.theme-toggle input:checked ~ .toggle-slider {
    background: #333333;
}

.theme-toggle input:checked ~ .toggle-slider::before {
    transform: translateX(22px);
}

/* Preview Container */
.preview-container {
    min-height: 300px;
    max-height: 500px;
    padding: 32px;
    border-radius: 8px;
    background: #FFFFFF;
    border: 1px solid #E0E0E0;
    transition: background 0.3s ease;
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    margin-bottom: 16px;
}

.preview-container.dark-mode {
    background: #1E1E1E;
    border-color: #555555;
}

.signature-preview {
    font-family: Arial, Helvetica, sans-serif;
    max-width: 100%;
}

/* Hover Highlighting (Issue #28) */
/* Highlights signature preview elements when hovering over corresponding form fields */
.preview-highlight {
    background-color: rgba(226, 37, 39, 0.08) !important;
    outline: 2px solid rgba(226, 37, 39, 0.3) !important;
    outline-offset: 2px !important;
    border-radius: 3px !important;
    transition: all 0.15s ease-in-out !important;
}

/* Dark mode variant - slightly stronger highlight for visibility */
.dark-mode .preview-highlight,
.preview-container.dark-mode .preview-highlight {
    background-color: rgba(226, 37, 39, 0.15) !important;
    outline: 2px solid rgba(226, 37, 39, 0.5) !important;
}

/* Dark Mode Warning */
.dark-mode-warning {
    font-size: 12px;
    color: #666666;
    margin-bottom: 16px;
    display: flex;
    align-items: flex-start;
    gap: 8px;
}

.dark-mode-warning-icon {
    font-size: 14px;
    flex-shrink: 0;
}

/* Field Tooltips */
.field-tooltip {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #E0E0E0;
    color: #666;
    font-size: 11px;
    cursor: help;
}

.field-tooltip-icon {
    font-size: 11px;
    line-height: 1;
}

/* Hide the text in field-tooltip, show on hover */
.field-tooltip span:not(.field-tooltip-icon) {
    display: none;
}

/* Validation States */
.input-valid {
    border-color: #089949 !important;
}

.input-invalid {
    border-color: #E42527 !important;
}

.validation-icon {
    position: absolute;
    right: 12px;
    font-size: 18px;
    pointer-events: auto; /* Allow hover for tooltip */
    cursor: help;
    color: #DC2626; /* Red warning color */
    display: none; /* Hidden by default */
}

/* Dark mode validation icon */
[data-theme="dark"] .validation-icon {
    color: #FCA5A5; /* Lighter red for dark mode */
}

.validation-icon.valid {
    color: #089949;
}

.validation-icon.invalid {
    color: #E42527;
}

/* Action Buttons */
.action-buttons {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 16px;
}

.btn {
    width: 100%;
    padding: 14px 24px;
    font-size: 16px;
    font-weight: 600;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    min-height: 48px;
    font-family: inherit;
}

.btn-primary {
    background: #E42527;
    color: white;
    box-shadow: 0 2px 4px rgba(228,37,39,0.2);
}

.btn-primary:hover {
    background: #C81F21;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(228,37,39,0.3);
}

.btn-primary:active {
    transform: translateY(0);
}

.btn-icon {
    font-size: 18px;
}

/* Copy Button Success State */
.btn-primary.success {
    background: #089949;
}

.btn-primary.success .btn-icon::before {
    content: '✓ ';
}

/* Modal */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    display: none;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-md);
}

.modal.active {
    display: flex;
}

.modal-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
}

.modal-content {
    position: relative;
    background: #FFFFFF; /* Force light mode */
    color: #1F2937; /* Force dark text */
    border-radius: 16px; /* Rounder for modern feel */
    box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
    max-width: 700px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    animation: fadeUp 0.3s ease;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 24px 28px;
    border-bottom: 1px solid #E5E7EB;
    gap: 20px;
}

.modal-header h2 {
    font-size: 1.25rem; /* 20px instead of 24px */
    margin: 0;
    font-weight: 600;
    color: #111827; /* Darker for better contrast */
}

.modal-header .modal-close {
    margin-top: 0;
    font-size: 1.5rem;
    width: 32px;
    height: 32px;
    color: #6B7280; /* Darker gray for visibility */
    flex-shrink: 0;
}

.modal-header .modal-close:hover {
    background: #F3F4F6;
    color: #111827;
}

.modal-close {
    background: none;
    border: none;
    font-size: 2rem;
    color: #9CA3AF; /* Light mode muted */
    cursor: pointer;
    padding: 0;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
}

.modal-close:hover {
    background: #F3F4F6; /* Light mode surface */
    color: #1F2937; /* Light mode dark text */
}

.modal-body {
    padding: 28px;
}

.instruction-section {
    margin-bottom: var(--spacing-lg);
}

.instruction-section:last-child {
    margin-bottom: 0;
}

.instruction-section.highlighted {
    background: var(--zoho-red-light);
    border: 2px solid var(--zoho-red);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
}

.instruction-section h3 {
    font-size: 1.2rem;
    margin-bottom: var(--spacing-sm);
    color: var(--color-text-primary);
}

.tip-box {
    margin-top: var(--spacing-sm);
    padding: var(--spacing-sm);
    background: var(--color-bg-elevated);
    border-left: 4px solid var(--zoho-red);
    border-radius: var(--radius-sm);
    font-size: 0.9rem;
    color: var(--color-text-secondary);
}

.instruction-section ol {
    padding-left: var(--spacing-md);
}

.instruction-section li {
    margin-bottom: var(--spacing-xs);
    color: var(--color-text-secondary);
}

.instruction-section strong {
    color: var(--color-text-primary);
    font-weight: 600;
}

/* Import Modal Redesign - Step Components */
.modal-header-with-logo {
    display: flex;
    align-items: center;
    gap: 14px;
    flex: 1;
}

.modal-logo-badge {
    width: 48px;
    height: 48px;
    flex-shrink: 0;
    object-fit: contain;
}

.modal-header-title-group {
    flex: 1;
}

.modal-header-title-group h2 {
    font-size: 1.25rem; /* 20px */
    font-weight: 600;
    margin: 0 0 2px 0;
    color: #111827;
    line-height: 1.3;
}

.modal-time-estimate {
    font-size: 13px;
    color: #6B7280; /* Darker for better readability */
    font-weight: 400;
    margin: 0;
    line-height: 1.4;
}

.instruction-steps {
    list-style: none;
    padding: 0;
    margin: 0;
}

.instruction-step {
    display: flex;
    gap: 14px;
    margin-bottom: 28px;
    animation: fadeInUp 0.3s ease forwards;
    opacity: 0;
}

/* Staggered animation delays */
.instruction-step:nth-child(1) { animation-delay: 0.05s; }
.instruction-step:nth-child(2) { animation-delay: 0.1s; }
.instruction-step:nth-child(3) { animation-delay: 0.15s; }
.instruction-step:nth-child(4) { animation-delay: 0.2s; }
.instruction-step:nth-child(5) { animation-delay: 0.25s; }
.instruction-step:nth-child(6) { animation-delay: 0.3s; }
.instruction-step:nth-child(7) { animation-delay: 0.35s; }
.instruction-step:nth-child(8) { animation-delay: 0.4s; }

.step-number {
    width: 32px;
    height: 32px;
    flex-shrink: 0;
    background: var(--step-color, #E42527);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 17px;
    font-weight: 700;
    box-shadow: 0 2px 5px rgba(228, 37, 39, 0.25), inset 0 -1px 2px rgba(0,0,0,0.12);
}

.step-content {
    flex: 1;
    padding-top: 2px; /* Align with circle center */
}

.step-title {
    font-size: 15px;
    font-weight: 500;
    color: #1F2937;
    line-height: 1.6;
    margin: 0;
}

.step-detail {
    font-size: 14px;
    color: #6B7280; /* Light mode gray */
    line-height: 1.5;
}

/* Tip Boxes */
.tip-box-new {
    display: flex;
    gap: 12px;
    padding: 12px 16px;
    border-radius: var(--radius-md);
    border-left: 4px solid var(--tip-color);
    background: var(--tip-bg);
    margin-top: 24px;
}

.tip-box-new.pro-tip {
    --tip-color: #3B82F6;
    --tip-bg: #F0F9FF;
}

/* Inline Copy Button */
.inline-copy-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    font-size: 14px;
    font-weight: 600;
    color: white;
    background: #E42527;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.18s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 3px rgba(228, 37, 39, 0.4), 0 1px 2px rgba(228, 37, 39, 0.24);
}

.inline-copy-btn:hover {
    background: #C91F21;
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(228, 37, 39, 0.4);
}

.inline-copy-btn:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(228, 37, 39, 0.3);
}

.inline-copy-btn svg {
    width: 16px;
    height: 16px;
}

.inline-copy-btn .copied-feedback {
    display: none;
    color: #10B981;
    font-weight: 500;
    margin-left: 8px;
}

.inline-copy-btn.copied .copied-feedback {
    display: inline;
}

/* External Link Styling */
.external-link {
    color: #E42527;
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s ease;
}

.external-link:hover {
    border-bottom-color: #E42527;
}

/* Step Icons */
.step-icon {
    font-size: 16px;
    margin-right: 4px;
    opacity: 0.8;
}

.tip-box-new.warning {
    --tip-color: #F59E0B;
    --tip-bg: #FFFBEB;
}

.tip-box-new.success {
    --tip-color: #10B981;
    --tip-bg: #F0FDF4;
}

.tip-icon {
    font-size: 20px;
    line-height: 1;
    flex-shrink: 0;
}

.tip-content {
    flex: 1;
    font-size: 14px;
    color: #1F2937; /* Light mode dark text */
    line-height: 1.5;
}

.tip-content strong {
    font-weight: 600;
}

/* Keyboard Shortcuts */
kbd {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    padding: 3px 8px;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', system-ui, sans-serif;
    font-size: 13px;
    background: linear-gradient(180deg, #FFFFFF 0%, #F9FAFB 100%);
    border: 1px solid #D1D5DB;
    border-bottom-width: 2px;
    border-radius: 6px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.04), inset 0 1px 0 rgba(255,255,255,0.9);
    color: #374151;
    font-weight: 500;
    letter-spacing: 0.02em;
}

kbd + kbd {
    margin-left: 6px;
}

kbd::before {
    content: attr(data-key);
}

/* Modal Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
    .instruction-step {
        animation: none;
        opacity: 1;
    }

    .modal.active .modal-content {
        animation: none;
    }
}

/* Responsive: Mobile */
@media (max-width: 640px) {
    .modal-content {
        width: 95vw;
        max-height: 90vh;
        margin: 20px;
    }

    .modal-header-with-logo {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .modal-logo-badge {
        width: 48px;
        height: 48px;
    }

    .step-number {
        width: 28px;
        height: 28px;
        font-size: 16px;
    }

    .step-title {
        font-size: 14px;
    }

    .step-detail {
        font-size: 13px;
    }

    .tip-box-new {
        padding: 10px 12px;
        gap: 10px;
    }

    .tip-icon {
        font-size: 18px;
    }

    .tip-content {
        font-size: 13px;
    }

    .inline-copy-btn {
        width: 100%;
        justify-content: center;
    }
}

/* Toast Notification */
.toast {
    position: fixed;
    bottom: var(--spacing-lg);
    right: var(--spacing-lg);
    background: var(--color-text-primary);
    color: white;
    padding: 1rem 1.5rem;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    font-weight: 500;
    opacity: 0;
    transform: translateY(20px);
    transition: all var(--transition-base);
    pointer-events: none;
    z-index: 2000;
}

.toast.show {
    opacity: 1;
    transform: translateY(0);
}

.toast.success {
    background: var(--color-success);
}

.toast.error {
    background: var(--zoho-red);
}

/* =============================================================================
   Error Messages (Enhanced with Icons)
   ============================================================================= */

.error-message {
    display: none;
    color: #DC2626;
    font-size: 14px;
    font-weight: 500;
    margin-top: 6px;
    line-height: 1.4;
    display: flex;
    align-items: flex-start;
    gap: 6px;
}

.error-message.visible {
    display: flex;
}

.error-icon {
    font-size: 16px;
    font-weight: bold;
    flex-shrink: 0;
    margin-top: 1px;
}

/* Validation Icons - Show/Hide via JS */
.validation-icon {
    position: absolute;
    right: 8px;  /* Reduced from 12px to avoid overlap with email domain suffix */
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    display: none; /* Hidden by default, shown by JS */
    align-items: center;
    justify-content: center;
    font-size: 16px;  /* Slightly smaller to fit better */
    font-weight: bold;
    z-index: 5;
}

.validation-icon.valid {
    color: #089949; /* Zoho green */
}

.validation-icon.invalid {
    color: #DC2626; /* Red */
}

/* Invalid input state */
.input-wrapper:has(input[aria-invalid="true"]) {
    border-color: #DC2626;
}

.input-wrapper:has(input[aria-invalid="true"]):focus-within {
    border-color: #DC2626;
    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
}

.input-wrapper input[aria-invalid="true"]:focus {
    outline: none;
}

/* Valid input state (subtle) - REMOVED
   This was overriding the standard red focus glow with green.
   Focus should always be red (Zoho brand color), not green.
   Validation feedback is handled by icons only, not border colors.
*/

/* Dark mode support */
[data-theme="dark"] .error-message {
    color: #FCA5A5;
}

[data-theme="dark"] .validation-icon.invalid {
    color: #FCA5A5;
}

[data-theme="dark"] .validation-icon.valid {
    color: #6EE7B7; /* Lighter green for dark mode */
}

[data-theme="dark"] .input-wrapper:has(input[aria-invalid="true"]) {
    border-color: #FCA5A5;
}

[data-theme="dark"] .input-wrapper:has(input[aria-invalid="true"]):focus-within {
    border-color: #FCA5A5;
    box-shadow: 0 0 0 3px rgba(252, 165, 165, 0.15);
}

/* Dark mode valid focus state - REMOVED
   Same reason as above: focus should always be red, not green.
*/

/* Responsive Design: Removed 1440px restriction (Issue #30) */
/* Layout now works on standard laptops (1366px, 1280px) and tablets */
/* Modals already responsive with width: 90vw, overflow-y: auto */

/* Feedback Modal (Issue #23) */
.feedback-option {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 16px;
    margin-bottom: 12px;
    background: #F9FAFB;
    border: 1px solid #E5E7EB;
    border-radius: 8px;
    transition: all 0.2s ease;
}

.feedback-option-link {
    text-decoration: none;
    color: inherit;
}

.feedback-option:hover,
.feedback-option-link:hover {
    background: #F3F4F6;
    border-color: #D1D5DB;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.feedback-option:active {
    transform: translateY(0);
}

.feedback-option-icon {
    font-size: 24px;
    flex-shrink: 0;
    line-height: 1;
}

.feedback-option-content {
    flex: 1;
}

.feedback-option-title {
    font-size: 16px;
    font-weight: 600;
    color: #111827;
    margin: 0 0 4px 0;
}

.feedback-option-desc {
    font-size: 14px;
    color: #4B5563;
    margin: 0 0 4px 0;
}

.feedback-option-note {
    font-size: 12px;
    color: #6B7280;
    margin: 0;
    font-style: italic;
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Focus visible for keyboard navigation */
*:focus-visible {
    outline: 2px solid var(--zoho-red);
    outline-offset: 2px;
}
